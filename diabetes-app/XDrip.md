- **`BluetoothScan.java`** — вероятно, отвечает за сканирование и подключение к устройствам через Bluetooth.
- **`AddCalibration.java`, `CalibrationGraph.java`** — могут быть связаны с калибровкой устройств. [[AddCalibration]] [[CalibrationGraph]]
- **`BestGlucose.java`** — возможно, содержит логику для обработки данных о глюкозе. [[BestGlucose]]
 
- **`BGHistory.java`** — может обрабатывать историю показаний уровня сахара. [[BGHistory]]


#### **3. Формат данных**

Файлы, где описывается структура данных:

- Если есть классы с моделями данных, например, `GlucoseReading.java`, `Calibration.java`.
- Логика парсинга данных (возможно, методы, которые работают с массивами байтов или JSON).

---

#### **4. Графики и визуализация**

Файлы, которые отвечают за визуализацию:

- **`CalibrationGraph.java`** — может быть полезным для понимания, как отображать калибровочные данные.
- Любые файлы с UI-компонентами, если используются кастомные элементы.

---

#### **5. Протоколы или API**

Файлы, где описаны протоколы взаимодействия:

- Например, файлы с методами отправки данных в облако или взаимодействия с сервером.
- Если используется Nightscout или подобная платформа, посмотри, есть ли файлы с упоминанием HTTP-запросов.

### **План перехода с Java на React Native**:

1. **Анализ исходного проекта (xDrip)**:
    
    - Понять, как именно приложение взаимодействует с устройствами: через Bluetooth, API или другой протокол.
    - Найти ключевые алгоритмы (например, обработка данных, расчет калибровок, парсинг данных с устройств).
    - Выделить функциональные блоки, которые нужно переписать.
2. **Выбор библиотек для React Native**:
    
    - Для Bluetooth: использовать библиотеку, например, [**react-native-ble-plx**](https://github.com/dotintent/react-native-ble-plx).
    - Для графиков: подходящие библиотеки — [**react-native-svg**](https://github.com/react-native-svg/react-native-svg) или [**react-native-chart-kit**](https://github.com/indiespirit/react-native-chart-kit).
3. **Создание структуры проекта**:
    
    - Организовать код с учетом современных подходов (использовать **React Context**, **Redux Toolkit** или **Zustand** для управления состоянием).
    - Выделить модули для работы с устройствами, авторизацией, и визуализацией данных.
4. **Основные модули для переписывания**:
    
    - **Bluetooth-соединение**:
        - Переписать сканирование, подключение, считывание данных.
    - **Обработка данных**:
        - Логика работы с данными, например, калибровка, история, фильтрация.
    - **Графики**:
        - Построение графиков уровня сахара, инсулина и других параметров.
    - **Авторизация**:
        - Добавить современные механизмы авторизации, такие как Firebase Auth или OAuth.
5. **Тестирование**:
    
    - Настроить эмуляцию устройств или подключение реальных устройств для проверки работы.

---

### **Что потребуется для начала разработки**:

1. **Настроить окружение для React Native**:
    
    - Установить [Expo](https://expo.dev/) или настроить bare workflow для работы с Bluetooth.
    - Установить TypeScript и необходимые библиотеки.
2. **Изучить работу с Bluetooth**:
    
    - Разобраться с использованием библиотеки **react-native-ble-plx**.
    - Настроить подключение и считывание данных.
3. **Понять формат данных устройств**:
    
    - Разобраться в формате данных, который xDrip считывает с устройств (например, JSON, бинарный формат).
    - Если требуется, написать парсер на TypeScript.
    
1. **Переписать важные блоки**:
    
    - Начать с базового: сканирование устройств и получение данных.
    - Постепенно добавлять обработку и визуализацию.